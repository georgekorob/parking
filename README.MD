# Парковочные места

--------------------------
### Состав проекта:
1. Сервер обработки запросов пользователей (drfbase Basil)
2. Сервер запросов к IP камерам (ipcams Camila)
3. Сервер обработки ИИ (aineuro Hunter)
4. Сервер анализа результатов ИИ (analize Freeman)

_______________
#### Сервер обработки запросов пользователей (drfbase Basil)
* Django REST Framework
* Принимает запросы от всех пользователей и серверов
* Раздает информацию о подключенных камерах и серверах
* Инициирует процесс запроса и анализа снимков
###### TODO:
* Переопределить методы django_cleanup и обеспечить сохрание снимка до момента дополнения информацией о парковочных местах
* Создать приложение сетевого логирования об ошибках и действиях

#### Сервер запросов к IP камерам (ipcams Camila)
* Ожидает запрос от Basil
* Занят получением временных снимков
* Отправляет снимок к Hunter
* Сервер находится на одной машине с Сервером обработки запросов пользователей
* Отправляет снимок на сервер Basil для предоставления пользователям
###### TODO:
* Отправлять снимок на сервер Basil

#### Сервер обработки ИИ (aineuro Hunter)
* Получает от Camila последний снимок
* С помощью ИИ проводит анализ парковочных мест
* Отправляет снимок и занятые места места к Hunter
###### TODO:
* Обеспечить получение ИИ снимка из буферного файла и возврат результатов анализа без сохранения на жесткий диск
* Предоставить доступ к новой более эффективной модели для yolo

#### Сервер анализа результатов ИИ (analize Freeman)
* По запросу проводит анализ данных от Hunter
* Применяет матрицы преобразования для устранения эффекта рыбьего глаза
* После оканчания работы отправляет запрос на сохранение в базу данных о парковочных местах
###### TODO:
* Найти способ устранения эффекта рыбьего глаза и обеспечить возможность корректировки оператором
* Перед вычислениями свободных мест преобразовать все координаты учитывая эффект рыбьего глаза
* После вычислений преобразовать координаты свободныйх мест обратно

____________________


###### TODO:
* Понять какие данные ещё нужны для устранения рыбьего глаза под конкретную камеру на сервере Freeman
* Пока снимок переходит между всеми серверами, в результате снимок должен быть отправлен с Camila к Basil
* На основе структуры данных для настройки Freeman создать модель на Basil, временно за это отвечает JSONField
* ?Сделать ассинхронные запросы к серверу Camila для постоянного обновления, запуск вместе с сервером Basil
* Отработать исключения инициализации, запуска, и т.д.
* Создать сетевое логирование на сервере Basil, с промежуточным сохранением во временный файл на стороне каждого сервера
* Сетевая аутентификация и авторизация
* Перевести работу серверов на работу с множеством камер
